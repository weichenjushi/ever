技术002K压测

-  `压测方案 <>`__

   -  `测试目的 <>`__
   -  `测试要点 <>`__
   -  `测试工具 <>`__
   -  `安全 <>`__

压测方案
========

测试目的
--------

目前，业内普遍采用的性能标准是：

-  API响应性：99%的API调用响应时间小于1s。
-  Pod启动时间：99%的pods（已经拉取好镜像）启动时间在5s以内。

“pod启动时间”包括了ReplicationController的创建，RC依次创建pod，调度器调度pod，Kubernetes为pod设置网络，启动容器，等待容器成功响应健康检查，并最终等待容器将其状态上报回API服务器，最后API服务器将pod的状态报告给正在监听中的客户端。

除此之外，网络吞吐量、镜像大小（需要拉取）都会影响kubernetes的整体性能。

测试要点
--------

测试工具
--------

Apache ab、JMeter、stree

安全
----

`kube-bench <https://github.com/aquasecurity/kube-bench>`__ 1.4.1
`网易云性能测试实践 <https://juejin.im/post/5bf7c3e2e51d454a324deccc>`__

%5BTOC%5D%0A%0A%23%20%E5%8E%8B%E6%B5%8B%E6%96%B9%E6%A1%88%0A%23%23%20%E6%B5%8B%E8%AF%95%E7%9B%AE%E7%9A%84%0A%E7%9B%AE%E5%89%8D%EF%BC%8C%E4%B8%9A%E5%86%85%E6%99%AE%E9%81%8D%E9%87%87%E7%94%A8%E7%9A%84%E6%80%A7%E8%83%BD%E6%A0%87%E5%87%86%E6%98%AF%EF%BC%9A%20%20%20%20%0A-%20API%E5%93%8D%E5%BA%94%E6%80%A7%EF%BC%9A99%25%E7%9A%84API%E8%B0%83%E7%94%A8%E5%93%8D%E5%BA%94%E6%97%B6%E9%97%B4%E5%B0%8F%E4%BA%8E1s%E3%80%82%20%20%20%0A-%20Pod%E5%90%AF%E5%8A%A8%E6%97%B6%E9%97%B4%EF%BC%9A99%25%E7%9A%84pods%EF%BC%88%E5%B7%B2%E7%BB%8F%E6%8B%89%E5%8F%96%E5%A5%BD%E9%95%9C%E5%83%8F%EF%BC%89%E5%90%AF%E5%8A%A8%E6%97%B6%E9%97%B4%E5%9C%A85s%E4%BB%A5%E5%86%85%E3%80%82%0A%E2%80%9Cpod%E5%90%AF%E5%8A%A8%E6%97%B6%E9%97%B4%E2%80%9D%E5%8C%85%E6%8B%AC%E4%BA%86ReplicationController%E7%9A%84%E5%88%9B%E5%BB%BA%EF%BC%8CRC%E4%BE%9D%E6%AC%A1%E5%88%9B%E5%BB%BApod%EF%BC%8C%E8%B0%83%E5%BA%A6%E5%99%A8%E8%B0%83%E5%BA%A6pod%EF%BC%8CKubernetes%E4%B8%BApod%E8%AE%BE%E7%BD%AE%E7%BD%91%E7%BB%9C%EF%BC%8C%E5%90%AF%E5%8A%A8%E5%AE%B9%E5%99%A8%EF%BC%8C%E7%AD%89%E5%BE%85%E5%AE%B9%E5%99%A8%E6%88%90%E5%8A%9F%E5%93%8D%E5%BA%94%E5%81%A5%E5%BA%B7%E6%A3%80%E6%9F%A5%EF%BC%8C%E5%B9%B6%E6%9C%80%E7%BB%88%E7%AD%89%E5%BE%85%E5%AE%B9%E5%99%A8%E5%B0%86%E5%85%B6%E7%8A%B6%E6%80%81%E4%B8%8A%E6%8A%A5%E5%9B%9EAPI%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%8C%E6%9C%80%E5%90%8EAPI%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B0%86pod%E7%9A%84%E7%8A%B6%E6%80%81%E6%8A%A5%E5%91%8A%E7%BB%99%E6%AD%A3%E5%9C%A8%E7%9B%91%E5%90%AC%E4%B8%AD%E7%9A%84%E5%AE%A2%E6%88%B7%E7%AB%AF%E3%80%82%0A%E9%99%A4%E6%AD%A4%E4%B9%8B%E5%A4%96%EF%BC%8C%E7%BD%91%E7%BB%9C%E5%90%9E%E5%90%90%E9%87%8F%E3%80%81%E9%95%9C%E5%83%8F%E5%A4%A7%E5%B0%8F%EF%BC%88%E9%9C%80%E8%A6%81%E6%8B%89%E5%8F%96%EF%BC%89%E9%83%BD%E4%BC%9A%E5%BD%B1%E5%93%8Dkubernetes%E7%9A%84%E6%95%B4%E4%BD%93%E6%80%A7%E8%83%BD%E3%80%82%0A%23%23%20%E6%B5%8B%E8%AF%95%E8%A6%81%E7%82%B9%0A%0A%0A%0A%23%23%20%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7%0AApache%20ab%E3%80%81JMeter%E3%80%81stress%0A%0A%0A%23%23%20%E5%AE%89%E5%85%A8%0A%0A%5Bkube-bench%5D(https%3A%2F%2Fgithub.com%2Faquasecurity%2Fkube-bench)%0A1.4.1%0A%5B%E7%BD%91%E6%98%93%E4%BA%91%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%AE%9E%E8%B7%B5%5D(https%3A%2F%2Fjuejin.im%2Fpost%2F5bf7c3e2e51d454a324deccc)%0A%0A%0A%0A
